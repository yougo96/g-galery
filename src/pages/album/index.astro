---
import Img from '../../components/Img.astro';
import Layout from '../../layouts/Layout.astro';

const response = await fetch(`https://photoslibrary.googleapis.com/v1/mediaItems:search`, {
	method: 'POST',
	headers: {
		'Content-Type': 'application/json',
		Authorization: `Bearer ${import.meta.env.AccessToken}`,
	},
    body: JSON.stringify({
        albumId: "AORh6yqE71JOzsjH2hxTmMuJgPL_u7MQ2pKUhbngfojSvMUMrjrWjfYQ4TGBSWcZ4kf79Srb24ik",
        pageSize: 50,
    })
});
const datas = await response.json();
// console.log(datas);
---

<Layout title="g-galery > album">
    <main style="grid-area: main;">
        <!-- <pre>
            {JSON.stringify(datas, null, 2)}
        </pre> -->
        <div class="img-container">
            {datas.mediaItems.map(item => 
                <Img url={item.baseUrl} data={item} />
            )}
        </div>
    </main>
</Layout>

<style>
    .img-container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: var(--grid-gap);
    }
</style>